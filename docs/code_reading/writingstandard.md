# 写作文档规范（Writing Standard）

目的：统一代码阅读类文档的风格与可读性，便于在 GitHub 上浏览与复用。

## 1 术语与用词一致性
- **只用一种方式表达同一概念**：例如“path”统一使用英文 path，不混用“路径/Path”。
- **术语首次出现应可追踪**：正文中将术语本身写成链接并指向术语汇总锚点，例如 `[EventCollector](#c-terminology)`。

## 2 目录与文内链接
- **目录必须可点击**：开头目录使用文内链接指向各章节锚点。
- **显式锚点**：为每个一级/二级标题提供固定锚点（例如 `<a id="sec-1-foo"></a>`），避免自动锚点变化。

## 3 章节结构
- **每个章节必须有 summary**：说明本节目的、范围与核心结论。
- **summary 使用“一级 + 子项”缩进格式**：
  - 一级点给出主结论或主题
  - 子项展开条件、分支或细节

## 4 术语汇总小节
- **必须包含“术语汇总小节”**：集中解释关键概念。
- **正文术语引用统一指向术语汇总**：例如 `[EventCollector](#c-terminology)`。
- **术语条目需包含定义与代码指针**：必要时给出文件/行号或代码片段。

## 5 可配置项说明
- **若存在可配置项，必须说明**：
  - 默认情况（默认值、默认行为）
  - 可配置方式（CLI / 环境变量 / 配置文件）
  - 生效位置（代码使用点、调用链位置）

## 6 叙述清晰度（上下文补足）
- **文档不是代码**：必须补充上下文。
- **保持主谓宾完整**：例如“事件入队到 path 队列”而非“事件入队”。
- **必要时补齐宾语**：尤其是“触发、入队、释放、更新”等动作。

## 7 结构化调用链
- **调用链使用缩进列表**：
  - 顶层动作
    - 关键步骤
      - 子步骤/条件
- **与代码片段对应**：调用链后的代码片段需能支撑该链路。

## 8 代码片段引用规范
- **包含文件:行号 + 片段 + 说明**：保证可追溯与可读。
- **引用术语时加链接**：在说明中引用术语汇总链接。


## 9 术语链接写法
- **正文不写“见术语汇总小节”字样**：直接把术语本身写成链接，例如 `[EventCollector](#c-terminology)`。

## 10 验证声明
- **文档标题与内容不再标注“代码验证版”**：默认所有文档均为代码验证，不需要重复说明。

## 11 设计反推要素（产品/开发视角）
- **目标**：用代码还原“设计意图”，帮助产品/开发理解机制与边界。
- **位置**：可单独成节，或合并进总览 summary；但必须清晰可见。
- **必须覆盖的要点**：
 - **范围与非目标**：本报告覆盖什么、不覆盖什么。
 - **关键角色/组件**：谁负责拉取、谁负责调度、谁负责写入/回收。
 - **主数据/控制流**：
   - **跨模块链路必须有时序图**（ASCII 即可），明确输入/输出与关键转折点。
 - **关键状态/策略**：阈值、分支、状态切换（可用决策表/状态图/清单表达）。
 - **可靠性与降级**：丢弃、阻塞、限流、兜底等策略来自哪里。
 - **可观测性**：指标/日志/下游表结果等可验证信号来源。
 - **关键假设/前置条件**：开关、配置、环境依赖等。
